<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.joonzis.mapper.CommentMapper">
	<!-- 코멘트 목록 조회 -->
    <select id="getCommentsByRestNo" parameterType="int" resultType="org.joonzis.domain.CommentVO">
        SELECT COM_NO, MEM_NO, REST_NO, COM_CON, COM_DATE, COM_RATE
        FROM "COMMENT"
        WHERE REST_NO = #{rest_no}
        ORDER BY COM_DATE DESC
    </select>

    <!-- 코멘트 등록 -->
    <insert id="addComment" parameterType="org.joonzis.domain.CommentVO">
        INSERT INTO "COMMENT"
        VALUES (SEQ_COMM.NEXTVAL, #{mem_no}, #{rest_no}, #{com_con}, SYSDATE, #{com_rate})
    </insert>
</mapper>